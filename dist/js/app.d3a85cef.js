(function(){var e={9252:function(e,t,n){"use strict";var i=n(9242),o=n(3396),a=n(7139);const l=(0,o._)("h1",null,"Verus",-1),s=(0,o.Uk)(" Switch Views "),r=(0,o._)("br",null,null,-1),u={class:"buttons"},p={key:3},d={key:4};function c(e,t,n,i,c,m){const h=(0,o.up)("CreatePatients"),f=(0,o.up)("CreateAppointments"),g=(0,o.up)("SimpleLogin");return(0,o.wg)(),(0,o.iD)(o.HY,null,[l,(0,o._)("h5",null,[s,r,(0,o._)("div",u,[(0,o._)("button",{onClick:t[0]||(t[0]=e=>m.switchMode(1))},"New Patient"),(0,o._)("button",{onClick:t[1]||(t[1]=e=>m.switchMode(2))},"New Appointment")])]),1==this.mode?((0,o.wg)(),(0,o.j4)(h,{key:0,msg:"AHHHHH",onSubmitPatient:m.submitPatient},null,8,["onSubmitPatient"])):(0,o.kq)("",!0),2==this.mode?((0,o.wg)(),(0,o.j4)(f,{key:1,onSubmitAppointment:m.verifyId},null,8,["onSubmitAppointment"])):(0,o.kq)("",!0),0==this.mode?((0,o.wg)(),(0,o.j4)(g,{key:2})):(0,o.kq)("",!0),1==this.mode?((0,o.wg)(),(0,o.iD)("ul",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.patients,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e},[(0,o._)("p",null,(0,a.zw)(e.name)+" - "+(0,a.zw)(e.id)+" - "+(0,a.zw)(e.birthday.toDateString()),1)])))),128))])):(0,o.kq)("",!0),2==this.mode?((0,o.wg)(),(0,o.iD)("ul",d,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(c.appointments,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e},[(0,o._)("p",null,(0,a.zw)(e.id)+" - "+(0,a.zw)(e.date.toDateString())+" - "+(0,a.zw)(e.diagnosis)+" - "+(0,a.zw)(m.displayCodes(e.code))+" - "+(0,a.zw)(e.patientType)+" - "+(0,a.zw)(e.refStatus),1)])))),128))])):(0,o.kq)("",!0)],64)}const m={class:"center"},h=(0,o._)("th",null,[(0,o._)("p",null,"Patient ID number:")],-1),f={ref:"id",name:"id",type:"number"},g=(0,o._)("th",null,[(0,o._)("p",null,"Patient name:")],-1),y={ref:"name",name:"name",type:"text"},v=(0,o._)("th",null,[(0,o._)("p",null,"Date of Birth: ")],-1),_={ref:"birthday",name:"birthday",type:"date"},b=(0,o._)("th",null,[(0,o._)("p",null,"Chronic Disease:")],-1),w=(0,o.uE)('<option value="042">AIDS</option><option value="043">AIDs-related complex</option><option value="044">Other human immunodeficiency virus infection</option><option value="250">Diabetes mullitus, including complications</option><option value="286">Coagulation defects (e.g. haemophilia, other factor deficiencies)</option><option value="287">Purpura, thrombocytopenia, other haemorrhagic conditions</option><option value="290">Senile dementia, presenile dementia</option><option value="299">Child psychoses or autism</option><option value="313">Behavioural disorders of childhood and adolescence</option><option value="315">Specified delays in development (e.g. dyslexia, dyslalia, motor retardation)</option><option value="332">Parkinson&#39;s Disease</option><option value="340">Multiple Sclerosis </option><option value="343">Cerebral Palsy </option><option value="345">Epilepsy</option><option value="402">Hypertensive Heart Disease </option><option value="428">Congestive Heart Failure</option><option value="491">Chronic Bronchitis </option><option value="492">Emphysema</option><option value="493">Asthma, Allergic Bronchitis</option><option value="515">Pulmonary Fibrosis</option><option value="555">Regional Enteritis, Crohn&#39;s Disease</option><option value="556">Ulcerative Colitis</option><option value="571">Cirrhosis of the Liver</option><option value="585">Chronic Renal Failure, Uremia </option><option value="710">Disseminated Lupus Erythaematosus, Generalized Scleroderma, Dermatomyositis</option><option value="714">Rheumatoid Arthritis, Still&#39;s Disease</option><option value="720">Ankylosing Spondylitis</option><option value="721">Other seronegative spondyloarthropathies</option><option value="758">Chromosomal Anomalies </option><option value="765">Prematurity, lowbirthweight infant </option><option value="902">Educational problems</option>',31),C=[w];function D(e,t,n,a,l,s){return(0,o.wg)(),(0,o.iD)("table",m,[(0,o._)("tr",null,[h,(0,o._)("th",null,[(0,o._)("input",f,null,512)])]),(0,o._)("tr",null,[g,(0,o._)("th",null,[(0,o._)("input",y,null,512)])]),(0,o._)("tr",null,[v,(0,o._)("th",null,[(0,o._)("input",_,null,512)])]),(0,o._)("tr",null,[b,(0,o._)("th",null,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.diseaseAssessment=e)},C,512),[[i.bM,l.diseaseAssessment]])])]),(0,o._)("tr",null,[(0,o._)("button",{onClick:t[1]||(t[1]=(...e)=>s.handleClick&&s.handleClick(...e))},"Submit")])])}var k={data(){return{diseaseAssessment:""}},methods:{handleClick(){this.$emit("submitPatient",{name:this.$refs.name.value,id:this.$refs.id.value,birthday:new Date(this.$refs.birthday.value),chronicDisease:this.diseaseAssessment})}}},T=n(89);const S=(0,T.Z)(k,[["render",D]]);var A=S;const P={class:"center"},V=(0,o._)("th",null,[(0,o._)("p",null,"Patient ID number:")],-1),U={value:"2112",ref:"id",name:"id",type:"number"},H=(0,o._)("th",null,[(0,o._)("p",null,"Date of Appointment: ")],-1),M={ref:"appointmentDate",name:"appointmentDate",type:"date"},O=(0,o._)("th",null,[(0,o._)("p",null,"Diagnosis: ")],-1),x={value:"Cancer",ref:"diagnosis",name:"diagnosis",type:"text"},F=(0,o._)("th",null,[(0,o._)("p",null,"Appointment Type : ")],-1),I=(0,o._)("option",{value:"Consultation"},"Consultation",-1),L=(0,o._)("option",{value:"Follow Up"},"Follow Up",-1),j=(0,o._)("option",{value:"Counselling"},"Counselling",-1),B=[I,L,j],$=(0,o._)("th",null,[(0,o._)("p",null,"What time did the appointment end? ")],-1),z=(0,o._)("th",null,[(0,o._)("p",null,"Patient is : ")],-1),E={name:"patientType",id:"patientType",ref:"patientType"},K=(0,o._)("option",{value:"regular"},"Regular",-1),Y=(0,o._)("option",{value:"inpatient"},"Inpatient",-1),q=(0,o._)("option",{value:"ed"},"ED Patient",-1),G=(0,o._)("option",{value:"unscheduled"},"Unscheduled",-1),W=[K,Y,q,G],N=(0,o._)("th",null,[(0,o._)("p",null,"How long was your appointment?")],-1),R={key:0},Z=(0,o._)("th",null,[(0,o._)("p",null,"Has patient had referall and care? ")],-1),J={value:"No",name:"referall",id:"referall",ref:"referall"},Q=(0,o._)("option",{value:"Yes"},"Yes",-1),X=(0,o._)("option",{value:"No"},"No",-1),ee=[Q,X],te={key:1},ne=(0,o._)("th",null,[(0,o._)("p",null,"Assessed for hospital admission :")],-1);function ie(e,t,n,a,l,s){return(0,o.wg)(),(0,o.iD)("table",P,[(0,o._)("tr",null,[V,(0,o._)("th",null,[(0,o._)("input",U,null,512)])]),(0,o._)("tr",null,[H,(0,o._)("th",null,[(0,o._)("input",M,null,512)])]),(0,o._)("tr",null,[O,(0,o._)("th",null,[(0,o._)("input",x,null,512)])]),(0,o._)("tr",null,[F,(0,o._)("th",null,[(0,o.wy)((0,o._)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.formType=e),name:"appointmentType",id:"appointmentType",ref:"appointmentType"},B,512),[[i.bM,l.formType]])])]),(0,o._)("tr",null,[$,(0,o._)("th",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.time=e),type:"time"},null,512),[[i.nr,l.time]])])]),(0,o._)("tr",null,[z,(0,o._)("th",null,[(0,o._)("select",E,W,512)])]),(0,o._)("tr",null,[N,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.aptLength=e),type:"number"},null,512),[[i.nr,l.aptLength]])]),"Consultation"==l.formType?((0,o.wg)(),(0,o.iD)("tr",R,[Z,(0,o._)("th",null,[(0,o._)("select",J,ee,512)])])):(0,o.kq)("",!0),"Follow Up"==l.formType?((0,o.wg)(),(0,o.iD)("tr",te,[ne,(0,o._)("th",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.assessed=e),type:"checkbox",ref:"admissionAssessed"},null,512),[[i.e8,l.assessed]])])])):(0,o.kq)("",!0),(0,o._)("button",{onClick:t[4]||(t[4]=(...e)=>s.submitApt&&s.submitApt(...e))},"Submit Appointment")])}var oe={name:"CreateAppointments",data(){return{formType:"Consultation",assessed:!1,asmtType:"",time:(new Date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}).substring(0,5),travel:!1,aptLength:0}},methods:{submitApt(){let e,t,n=new Date(this.$refs.appointmentDate.value),i="";new Date(this.$refs.appointmentDate.value).getTime()?(e=n.getFullYear(),t=n.getMonth(),i=n.getDate(),n=new Date(e,t,i+1)):n=new Date(2022,5,30);let o={id:this.$refs.id.value,date:n,diagnosis:this.$refs.diagnosis.value,patientType:this.$refs.patientType.value,aptType:this.$refs.appointmentType.value,endTime:this.time,didTravel:this.travel,aptLength:this.aptLength};if("Consultation"==this.formType)o=Object.assign(o,{refStatus:this.$refs.referall.value});else{if("Follow Up"!=this.formType)return void alert("In order to bill a code, you must select an appointment type.");o=Object.assign(o,{assessedAdmission:this.assessed})}this.$emit("submitAppointment",o)}}};const ae=(0,T.Z)(oe,[["render",ie]]);var le=ae,se=n(8146);let re=[{name:"Consultation",code:"345",price:152.4,category:"Consultation",isValid({apt:e,appointments:t}){let n=t.filter((function(e){for(let t=0;t<e.code.length;t++)if("345"==e.code[t].toString().substring(1))return!0}));for(let i=0;i<n.length;i++)if(e.diagnosis!=n[i].diagnosis||"inpatient"==e.aptType||"ed"==e.aptType){if(se.daysBetween(e.date,n[i].date)<365)return!1}else if(se.daysBetween(e.date,n[i].date)<730)return!1;return!0}},{name:"Limited Consultation",code:"745",price:99.3,category:"Consultation",isValid({apt:e}){return"Yes"==e.refStatus}}],ue=[{name:"Counselling",price:100,code:"K013",isValid({appointments:e}){return console.log(e.filter((e=>"K013"==e.code.toString()))),e.filter((e=>"K013"==e.code.toString())).length<=2}}],pe=[{name:"Medical Specific Assessment",code:"343",price:"77.55",isValid({apt:e,appointments:t}){let n=t.filter((function(t){return t.id==e.id&&"343"==t.code.toString().substring(1)})),i=0;for(let o=0;o<n.length;o++)if(Math.abs(se.daysBetween(e.date,n[o].date))<=365&&n[o].diagnosis==e.diagnosis){if(!(se.daysBetween(e.date,n[o].date)>=90&&e.assessedAdmission))return!1;if(i>=1)return!1;i+=1}else if(Math.abs(se.daysBetween(e.date,n[o].date)<=365)&&n[o].diagnosis!=e.diagnosis){if(i>=1)return!1;i+=1}return!0}},{name:"Complex medical specific re-assessmet",price:68.9,code:"341",isValid({appointments:e}){return e.filter((e=>"341"==e.code.toString().substring(1)||"343"==e.code.toString().substring(1))).length<4}},{name:"Medical specific re-assessment",code:"340",price:59.55,isValid({appointments:e}){return e.filter((e=>"340"==e.code.toString().substring(1))).length<2}},{name:"Partial assessment",price:36.25,code:"348",isValid(){return!0}}],de=[{name:"Travel Premium for 17:00-24:00 Monday - Friday",code:"C102",price:36.4,isValid({apt:e}){let t=e.endTime.substring(0,2),n=e.date.getDay();return e.didTravel&&t>=17&&t<24**n<=5&&n>0}},{name:"Travel Premium for 07:00-24:00 Sat, Sun, & Holidays",code:"C103",price:36.4,isValid(){return!1}},{name:"Travel Premium for 00:00-07:00",code:"C104",price:36.4,isValid({apt:e}){let t=e.endTime.substring(0,2);return e.didTravel&&(t<7||7==t&&0==e.endTime.substring(3,5))}},{name:"First Person seen 17:00-24:00 Monday - Friday",code:"C109",price:60,isValid({apt:e,appointments:t}){if(e.endTime.substring(0,2)<17||e.date.getDay()>5||0==e.date.getDay())return!1;for(let n=0;n<t.length;n++)if(0==se.daysBetween(t[n].date,e.date)&&t[n].endTime.substring(0,2)>=17)return!1;return!0}},{name:"First Person seen 07:00-24:00 Sat, Sun, & Holidays",code:"C108",price:75,isValid(){return!1}}];function ce(e,t,n){let i=t.filter((t=>t.id==e.id)),o={apt:e,appointments:i,patient:n},a=[],l=[];switch(e.aptType){case"Consultation":l=re;break;case"Follow Up":l=pe;break;case"Counselling":l=ue;break;default:alert("We should not see this");break}let s=me(l,o);if("K013"==s.code)return[s.code];let r=se.specialVisitPremiums(s.code,e);a.push(r);let u=me(de,o);u.price&&a.push(u.code),console.log(s.code),"343"==s.code&&console.log("no fucking way that works"),n.chronicDisease&&a.push(n.chronicDisease);for(let p=0;p<se.getDetention(e);p++)a.push("K001");return a}function me(e,t){let n={code:"000",price:0};for(let i=0;i<e.length;i++)e[i].isValid(t)&&e[i].price>n.price&&(n=e[i]);return n}const he=e=>((0,o.dD)("data-v-66d36eb1"),e=e(),(0,o.Cn)(),e),fe=he((()=>(0,o._)("h3",null,"Simple Login",-1))),ge={class:"center"},ye=he((()=>(0,o._)("th",null,"Email Address: ",-1))),ve=he((()=>(0,o._)("th",null,"Password: ",-1)));function _e(e,t,n,a,l,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[fe,(0,o._)("button",{onClick:t[0]||(t[0]=(...e)=>s.signInWithGoogle&&s.signInWithGoogle(...e))},"Sign In With Google"),(0,o._)("table",ge,[(0,o._)("tr",null,[ye,(0,o._)("th",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.emailAddress=e),type:"text",id:"text-fields"},null,512),[[i.nr,l.emailAddress]])])]),(0,o._)("tr",null,[ve,(0,o._)("th",null,[(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.password=e),type:"password",id:"text-fields"},null,512),[[i.nr,l.password]])])])]),(0,o._)("button",{onClick:t[3]||(t[3]=e=>s.submit(this.emailAddress,this.password))},"Submit")],64)}var be={data(){return{emailAddress:"",password:""}},methods:{submit(e,t){e&&t?(alert("Your email is "+e+" and I won't say your password!"),console.log(e),console.log(t)):alert("Invalid email and password!")},signInWithGoogle(){}}};const we=(0,T.Z)(be,[["render",_e],["__scopeId","data-v-66d36eb1"]]);var Ce=we,De={name:"App",components:{CreatePatients:A,CreateAppointments:le,SimpleLogin:Ce},data(){return{patients:[{name:"Adam Clarke",id:1234,birthday:new Date(2003,1,5)},{name:"Summer Clarke",id:2382,birthday:new Date(2005,5,27)},{name:"Steven Clarke",id:2112,birthday:new Date(1968,1,30)},{name:"Melanie Clarke",id:1152,birthday:new Date(1972,8,15)},{name:"George Kris",id:1010,birthday:new Date(1930,5,5)},{name:"Alex",id:1999,birthday:new Date(2005,3,5),chronicDisease:"Schizophrenia"}],appointments:[],mode:2}},methods:{switchMode(e){this.mode=e},verifyId(e){let t=this.patients.filter((t=>t.id==e.id))[0];if(!t)return void alert("Patient not found, double check CR number.");let n=ce(e,this.appointments,t);this.appointments.push(Object.assign(e,{code:n}))},displayCodes(e){let t="";for(let n=0;n<e.length;n++)t+=e[n]+", ";return t},submitPatient(e){this.patients.push(e)}}};const ke=(0,T.Z)(De,[["render",c]]);var Te=ke;(0,i.ri)(Te).mount("#app")},8146:function(e){function t(e,t){return t.getTime()-e.getTime()}function n(e,t){return Math.abs(t.getTime()-e.getTime())/864e5}function i(e){return"C340"==e||"C341"==e||"C343"==e}function o(e,t){switch(t.patientType){case"inpatient":e="C"+e;break;case"unscheduled":e="U"+e;break;case"ed":e="K"+e;break;case"regular":e="A"+e;break}return e}function a(e){let t=0,n=e.aptLength;return"Consultation"==e.aptType?t=60:"Follow Up"==e.aptType&&(t=40),n-=t,Math.floor(n/15)}e.exports={distanceBetweenDates:t,daysBetween:n,chronicDiseaseValidity:i,specialVisitPremiums:o,getDetention:a},federalHolidays=[{name:"Christmas",isValid(e){}}]}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.m=e,function(){var e=[];n.O=function(t,i,o,a){if(!i){var l=1/0;for(p=0;p<e.length;p++){i=e[p][0],o=e[p][1],a=e[p][2];for(var s=!0,r=0;r<i.length;r++)(!1&a||l>=a)&&Object.keys(n.O).every((function(e){return n.O[e](i[r])}))?i.splice(r--,1):(s=!1,a<l&&(l=a));if(s){e.splice(p--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[i,o,a]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,i){var o,a,l=i[0],s=i[1],r=i[2],u=0;if(l.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(r)var p=r(n)}for(t&&t(i);u<l.length;u++)a=l[u],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(p)},i=self["webpackChunkv1"]=self["webpackChunkv1"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=n.O(void 0,[998],(function(){return n(9252)}));i=n.O(i)})();
//# sourceMappingURL=app.d3a85cef.js.map